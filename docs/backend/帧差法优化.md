## 需求
我希望修改帧差法部分，修改为当前帧(第N帧)和第N-20帧进行帧差法对比。帧差法在backend\core\backgroundThread.py这实现，具体实现文档：docs\backend\后端设计.md

## 🎯 需求分析

目标：区分"路过的人"和"停驻的人"

当前逻辑的问题

- 相邻帧对比（N vs N-1）：
- ✅ 能检测到任何运动（包括路人快速走过）
- ❌ 无法区分"路过"还是"停驻"
- ❌ 路人经过也会触发人脸识别

修改后的逻辑（间隔20帧对比）

有两种理解方式：

理解方式 A：检测"持续静止"
- 第 N 帧 vs 第 N-20 帧差异小 → 有人停驻在门前（相对静止）→ 触发人脸识别
- 第 N 帧 vs 第 N-20 帧差异大 → 有人快速走过（持续运动）→ 不触发

理解方式 B：检测"缓慢接近"
- 第 N 帧 vs 第 N-20 帧有差异 → 有人缓慢移动/停驻 → 触发人脸识别
- 相邻帧差异大 → 快速路过 → 不触发

---
❓ 请确认你的需求

你希望的逻辑是哪种？

方案 1：双重检测（推荐）
1. 先检测相邻帧（N vs N-1）→ 发现有运动
2. 再检测间隔帧（N vs N-20）→ 判断是否停驻
    - 如果间隔帧差异小 → 说明在相对静止状态（停驻）→ 触发人脸识别
    - 如果间隔帧差异大 → 说明在快速移动（路过）→ 不触发

方案 2：仅使用间隔帧检测
直接对比第 N 帧和第 N-20 帧
- 有差异但不大 → 缓慢移动或停驻 → 触发人脸识别
- 差异很大 → 快速移动 → 不触发

方案 3：连续检测判定
检测到运动后，连续判断多帧（如3-5帧）是否还有人
- 如果连续多帧都检测到人 → 说明停驻 → 触发人脸识别
- 如果很快消失 → 说明路过 → 不触发
